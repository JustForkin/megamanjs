'use strict';

const megaman2 = Game.Loader.XML.createFromXML('../../src/game/resource/Megaman2.xml');

const log = [{"time":0.6416666666666302,"key":"right","type":"keydown"},{"time":1.383333333334022,"key":"a","type":"keydown"},{"time":0.4333333333336782,"key":"a","type":"keyup"},{"time":1.0083333333341358,"key":"a","type":"keydown"},{"time":0.483333333333718,"key":"a","type":"keyup"},{"time":0.9833333333341159,"key":"a","type":"keydown"},{"time":0.2916666666668988,"key":"a","type":"keyup"},{"time":0.05000000000003979,"key":"b","type":"keydown"},{"time":0.1666666666667993,"key":"b","type":"keyup"},{"time":0.7500000000005969,"key":"a","type":"keydown"},{"time":0.10000000000007958,"key":"a","type":"keyup"},{"time":0.05000000000003979,"key":"b","type":"keydown"},{"time":0.06666666666671972,"key":"b","type":"keyup"},{"time":0.5333333333337578,"key":"a","type":"keydown"},{"time":0.03333333333335986,"key":"b","type":"keydown"},{"time":0.03333333333335986,"key":"right","type":"keyup"},{"time":0,"key":"a","type":"keyup"},{"time":0.08333333333339965,"key":"b","type":"keyup"},{"time":0.15000000000011937,"key":"right","type":"keydown"},{"time":0.5583333333337777,"key":"a","type":"keydown"},{"time":0.2833333333335588,"key":"b","type":"keydown"},{"time":0.01666666666667993,"key":"a","type":"keyup"},{"time":0.10000000000007958,"key":"b","type":"keyup"},{"time":0.08333333333339965,"key":"b","type":"keydown"},{"time":0.08333333333339965,"key":"b","type":"keyup"},{"time":0.36666666666695846,"key":"a","type":"keydown"},{"time":0.2166666666668391,"key":"a","type":"keyup"},{"time":0.5000000000003979,"key":"b","type":"keydown"},{"time":0.03333333333335986,"key":"b","type":"keyup"},{"time":0.34166666666693857,"key":"b","type":"keydown"},{"time":0.08333333333339965,"key":"b","type":"keyup"},{"time":0.01666666666667993,"key":"right","type":"keyup"},{"time":0.13333333333343944,"key":"a","type":"keydown"},{"time":0.05000000000003979,"key":"right","type":"keydown"},{"time":0.05000000000003979,"key":"b","type":"keydown"},{"time":0.1666666666667993,"key":"b","type":"keyup"},{"time":0.03333333333335986,"key":"a","type":"keyup"},{"time":0.10000000000007958,"key":"right","type":"keyup"},{"time":0.1666666666667993,"key":"b","type":"keydown"},{"time":0.08333333333339965,"key":"b","type":"keyup"},{"time":0.06666666666671972,"key":"right","type":"keydown"},{"time":0.18333333333347923,"key":"b","type":"keydown"},{"time":0,"key":"a","type":"keydown"},{"time":0.23333333333351902,"key":"b","type":"keyup"},{"time":0,"key":"a","type":"keyup"},{"time":0.4000000000003183,"key":"right","type":"keyup"},{"time":0.01666666666667993,"key":"b","type":"keydown"},{"time":0.08333333333339965,"key":"b","type":"keyup"},{"time":0.18333333333347923,"key":"right","type":"keydown"},{"time":0.08333333333339965,"key":"a","type":"keydown"},{"time":0.22500000000017906,"key":"a","type":"keyup"},{"time":0.5500000000004377,"key":"right","type":"keyup"},{"time":0.06666666666671972,"key":"right","type":"keydown"},{"time":0.06666666666671972,"key":"a","type":"keydown"},{"time":0.03333333333335986,"key":"up","type":"keydown"},{"time":0.25000000000019895,"key":"up","type":"keyup"},{"time":0.03333333333335986,"key":"b","type":"keydown"},{"time":0.06666666666671972,"key":"a","type":"keyup"},{"time":0.10000000000007958,"key":"b","type":"keyup"},{"time":0.05000000000003979,"key":"right","type":"keyup"},{"time":0.15000000000011937,"key":"right","type":"keydown"},{"time":0.18333333333347923,"key":"a","type":"keydown"},{"time":0.13333333333343944,"key":"a","type":"keyup"},{"time":0.6083333333338174,"key":"a","type":"keydown"},{"time":0.25000000000019895,"key":"b","type":"keydown"},{"time":0.15000000000011937,"key":"b","type":"keyup"},{"time":0.01666666666667993,"key":"a","type":"keyup"},{"time":0.06666666666671972,"key":"right","type":"keyup"},{"time":0.23333333333351902,"key":"right","type":"keydown"},{"time":0.10000000000007958,"key":"a","type":"keydown"},{"time":0.2666666666668789,"key":"b","type":"keydown"},{"time":0.03333333333335986,"key":"a","type":"keyup"},{"time":0.06666666666671972,"key":"b","type":"keyup"},{"time":0.11666666666675951,"key":"right","type":"keyup"},{"time":0.1666666666667993,"key":"right","type":"keydown"},{"time":0.15000000000011937,"key":"a","type":"keydown"},{"time":0.23333333333351902,"key":"b","type":"keydown"},{"time":0.1666666666667993,"key":"b","type":"keyup"},{"time":0,"key":"a","type":"keyup"},{"time":0.15000000000011937,"key":"right","type":"keyup"},{"time":0.15833333333345934,"key":"right","type":"keydown"},{"time":0.10000000000007958,"key":"a","type":"keydown"},{"time":0.2666666666668789,"key":"a","type":"keyup"},{"time":0.2166666666668391,"key":"right","type":"keyup"},{"time":0.2166666666668391,"key":"right","type":"keydown"},{"time":0.08333333333339965,"key":"a","type":"keydown"},{"time":0.3333333333335986,"key":"b","type":"keydown"},{"time":0.13333333333343944,"key":"a","type":"keyup"},{"time":0.01666666666667993,"key":"b","type":"keyup"},{"time":0.06666666666671972,"key":"right","type":"keyup"},{"time":0.2833333333335588,"key":"right","type":"keydown"},{"time":0.15000000000011937,"key":"a","type":"keydown"},{"time":0.2833333333335588,"key":"b","type":"keydown"},{"time":0.3583333333336185,"key":"b","type":"keyup"},{"time":0.01666666666667993,"key":"a","type":"keyup"},{"time":0.11666666666675951,"key":"a","type":"keydown"},{"time":0.20000000000015916,"key":"a","type":"keyup"},{"time":0.25000000000019895,"key":"right","type":"keyup"},{"time":0.2166666666668391,"key":"right","type":"keydown"},{"time":0.13333333333343944,"key":"a","type":"keydown"},{"time":0.35000000000027853,"key":"a","type":"keyup"},{"time":0.18333333333347923,"key":"right","type":"keyup"},{"time":0.18333333333347923,"key":"a","type":"keydown"},{"time":0.05000000000003979,"key":"right","type":"keydown"},{"time":0.2666666666668789,"key":"a","type":"keyup"},{"time":0.06666666666671972,"key":"right","type":"keyup"},{"time":0.1916666666668192,"key":"right","type":"keydown"},{"time":0.05000000000003979,"key":"a","type":"keydown"},{"time":0.23333333333351902,"key":"a","type":"keyup"},{"time":0.5166666666670778,"key":"right","type":"keyup"},{"time":0.2666666666668789,"key":"right","type":"keydown"},{"time":0,"key":"a","type":"keydown"},{"time":0.20000000000015916,"key":"a","type":"keyup"},{"time":0.25000000000019895,"key":"right","type":"keyup"},{"time":0.18333333333347923,"key":"right","type":"keydown"},{"time":0.06666666666671972,"key":"a","type":"keydown"},{"time":0.2166666666668391,"key":"a","type":"keyup"},{"time":1.6250000000012932,"key":"a","type":"keydown"},{"time":0.15000000000011937,"key":"a","type":"keyup"},{"time":0.18333333333347923,"key":"right","type":"keyup"},{"time":0.15000000000011937,"key":"left","type":"keydown"},{"time":0.08333333333339965,"key":"a","type":"keydown"},{"time":0.36666666666695846,"key":"a","type":"keyup"},{"time":0.22500000000017906,"key":"left","type":"keyup"},{"time":0.08333333333339965,"key":"right","type":"keydown"},{"time":0.10000000000007958,"key":"a","type":"keydown"},{"time":0.11666666666675951,"key":"a","type":"keyup"},{"time":0.11666666666675951,"key":"down","type":"keydown"},{"time":0.06666666666671972,"key":"down","type":"keyup"},{"time":0.01666666666667993,"key":"right","type":"keyup"},{"time":0.1666666666667993,"key":"left","type":"keydown"},{"time":0.13333333333343944,"key":"a","type":"keydown"},{"time":0.18333333333347923,"key":"a","type":"keyup"},{"time":0.5166666666670778,"key":"left","type":"keyup"},{"time":0.03333333333335986,"key":"up","type":"keydown"},{"time":0.03333333333335986,"key":"a","type":"keydown"},{"time":0.01666666666667993,"key":"right","type":"keydown"},{"time":0.05000000000003979,"key":"up","type":"keyup"},{"time":0.25000000000019895,"key":"right","type":"keyup"},{"time":0.01666666666667993,"key":"a","type":"keyup"},{"time":0.05000000000003979,"key":"left","type":"keydown"},{"time":0.39166666666697836,"key":"left","type":"keyup"},{"time":0.01666666666667993,"key":"a","type":"keydown"},{"time":0.01666666666667993,"key":"right","type":"keydown"},{"time":0.3166666666669187,"key":"a","type":"keyup"},{"time":0.6333333333338373,"key":"a","type":"keydown"},{"time":0.3166666666669187,"key":"a","type":"keyup"},{"time":1.0916666666675354,"key":"right","type":"keyup"},{"time":0.1666666666667993,"key":"down","type":"keydown"},{"time":0.36666666666695846,"key":"down","type":"keyup"}];


megaman2.promise.then(function() {
  megaman2.game.attachToElement(document.getElementById('screen'));
  const game = megaman2.game;
  const engine = game.engine;

  megaman2.loader.startScene('Heatman').then(function(level) {
    const inputPlayer = new Engine.InputPlayer(game, level.inputs.character);
    window.inputPlayer = inputPlayer;
    level.pauseGamePlay();
    setTimeout(function() {
      inputPlayer.play(log);
    }, 100);
  });
});
